<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Adam Gruber">

<title>Analyse exploratoire des données</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="TP1_Etudiants_files/libs/clipboard/clipboard.min.js"></script>
<script src="TP1_Etudiants_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="TP1_Etudiants_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="TP1_Etudiants_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="TP1_Etudiants_files/libs/quarto-html/popper.min.js"></script>
<script src="TP1_Etudiants_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="TP1_Etudiants_files/libs/quarto-html/anchor.min.js"></script>
<link href="TP1_Etudiants_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="TP1_Etudiants_files/libs/quarto-html/quarto-syntax-highlighting-065a5179aebd64318d7ea99d77b64a9e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="TP1_Etudiants_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="TP1_Etudiants_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="TP1_Etudiants_files/libs/bootstrap/bootstrap-cbe08e193e70c00a9bac27e1bb9bc206.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="TP1_Etudiants_files/libs/quarto-contrib/foldbox/foldbox.css" rel="stylesheet">
<script src="TP1_Etudiants_files/libs/quarto-contrib/remember-1.0.0/remember.js"></script>
<link href="TP1_Etudiants_files/libs/quarto-contrib/remember-1.0.0/remember.css" rel="stylesheet">
<style>
.Conjecture {
  --color1: #948bde;
  --color2: #584eab;
}
.DONE {
  --color1: #cce7b1;
  --color2: #86b754;
}
.Corollary {
  --color1: #948bde;
  --color2: #584eab;
}
.Feature {
  --color1: #c0c0c0;
  --color2: #808080;
}
.TODO {
  --color1: #e7b1b4;
  --color2: #8c3236;
}
.Theorem {
  --color1: #948bde;
  --color2: #584eab;
}
.Definition {
  --color1: #d999d3;
  --color2: #a01793;
}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des matières</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#exercice-1" id="toc-exercice-1" class="nav-link" data-scroll-target="#exercice-1">Exercice 1</a></li>
  <li><a href="#exercice-2" id="toc-exercice-2" class="nav-link" data-scroll-target="#exercice-2">Exercice 2</a></li>
  <li><a href="#exercice-3" id="toc-exercice-3" class="nav-link" data-scroll-target="#exercice-3">Exercice 3</a></li>
  <li><a href="#exercice-4" id="toc-exercice-4" class="nav-link" data-scroll-target="#exercice-4">Exercice 4</a></li>
  <li><a href="#exercice-5" id="toc-exercice-5" class="nav-link" data-scroll-target="#exercice-5">Exercice 5</a></li>
  <li><a href="#exercice-6" id="toc-exercice-6" class="nav-link" data-scroll-target="#exercice-6">Exercice 6</a></li>
  <li><a href="#exercice-7" id="toc-exercice-7" class="nav-link" data-scroll-target="#exercice-7">Exercice 7</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analyse exploratoire des données</h1>
<p class="subtitle lead">De la théorie à la pratique (TP 1)</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Auteur·rice</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Adam Gruber <a href="mailto:adam.gruber@heig-vd.ch" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Département TIC
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Date de publication</div>
    <div class="quarto-title-meta-contents">
      <p class="date">This version: décembre 14, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Ce projet fait partie du cours d’analyse exploratoire des données. L’objectif principal est d’apprendre à utiliser le langage <strong>R</strong> pour manipuler des données et créer des graphiques. En faisant des exercices pratiques, on découvre comment explorer des données, calculer des statistiques simples et visualiser les informations importantes.</p>
<p>Le projet permet aussi de comprendre les relations entre les variables, par exemple en observant des corrélations ou des tendances dans les graphiques. On apprend à interpréter les résultats et à présenter les données.</p>
</section>
<section id="exercice-1" class="level1">
<h1>Exercice 1</h1>
<p>L’une des forces de <strong><em>R</em></strong> est qu’il est capable de traiter de grands jeux de données de manière très rapide. Cet avantage a évidemment son prix : la lecture des données peut paraître ennuyeuse, particulièrement lorsqu’elles se trouvent sur support informatique. Il existe cependant plusieurs possibilités pour lire dans <strong><em>R</em></strong> des données contenues dans un fichier. Si elles se présentent sous la forme d’une liste de valeurs telles que chacune d’elles figure sur une ligne ou si elles sont séparées par un espace, on peut utiliser la commande <code>scan()</code> qui renvoie un vecteur. Lorsque les données se présentent sous la forme d’une table, i.e.&nbsp;une ligne par observation et une colonne par variable, l’instruction à utiliser est <code>read.table()</code> si les données se trouvent dans un fichier texte (ASCII). Des variantes de cette fonction existent comme par exemple <code>read.csv2()</code> <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. Dans cet exercice, nous allons enregistrer dans <strong><em>R</em></strong> les données qui seront utilisées dans le travail pratique. Vous pouvez organiser comme vous le souhaitez votre travail. Néanmoins, nous vous suggérons de créer deux répertoires : l’un contenant les données et l’autre votre travail (script, rapport, résultats). Pour être plus structuré, vous pouvez même ajouter un sous-répertoire à votre répertoire de travail pour y stocker vos graphiques; vous pouvez également créer un projet pour mieux gérer votre travail pratique.</p>
<p><strong>a.</strong> Les données que nous allons traiter dans ce travail pratique se trouvent dans la page <a href="https://cyberlearn.hes-so.ch/course/view.php?id=36642" title="Moodle">Moodle du cours</a>. Copiez-les dans votre répertoire de données.</p>
<p><strong>b.</strong> Charger les données dans <strong><em>R</em></strong> en utilisant les fonctions <code>scan()</code> et <code>read.table()</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>dataDir<span class="ot">&lt;-</span><span class="st">"./data"</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>data_files<span class="ot">&lt;-</span><span class="fu">list.files</span>(<span class="at">path=</span>dataDir, <span class="at">pattern =</span> <span class="st">".txt"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">print</span>(data_files)</span>
<span id="cb1-4"><a href="#cb1-4"></a>cpus<span class="ot">&lt;-</span><span class="fu">scan</span>(<span class="fu">file.path</span>(dataDir, <span class="st">"cpus.txt"</span>))</span>
<span id="cb1-5"><a href="#cb1-5"></a>examen<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="fu">file.path</span>(dataDir, <span class="st">"examen.txt"</span>), <span class="at">header=</span>T)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>c.</strong> Pour voir le contenu de l’objet <code>cpus</code>, taper l’instruction</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>cpus</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  76  18  22 144  12 185  38  24  45  38  65 141  44  58  12 510 370  66 915
[20]  25  30  66  36  14  26  92   7  36 133  66  24  10  36 100  60  33  40  19
[39]  16 130  62  21  32  64  24 110  11  56  46 136</code></pre>
</div>
</div>
<p>Il en est de même pour <code>examen</code>. Les objets <code>cpus</code> et <code>examen</code> sont de nature toute différente. En effet, le premier est un <em>vecteur</em>, le second un tableau de données, <em>data.frame</em><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> en anglais.</p>
<p><strong>d.</strong> Pour accéder à la 17ème composante du vecteur <code>cpus</code>, utiliser la commande</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>cpus[<span class="dv">17</span>]</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 370</code></pre>
</div>
</div>
<p><strong>e.</strong> Pour obtenir une partie du vecteur <code>cpus</code> comme par exemple les éléments du vecteur compris entre la 5ème et la 21ème composante, taper l’instruction</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>cpus[<span class="dv">5</span><span class="sc">:</span><span class="dv">21</span>]</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  12 185  38  24  45  38  65 141  44  58  12 510 370  66 915  25  30</code></pre>
</div>
</div>
<p><strong>f.</strong> Pour extraire du vecteur <code>cpus</code> ses éléments supérieurs à <span class="math inline">\(250\)</span>, utiliser la commande</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>cpus[cpus<span class="sc">&gt;</span><span class="dv">250</span>]</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 510 370 915</code></pre>
</div>
</div>
<p><strong>g.</strong> Il est possible d’accéder directement aux composantes d’une table par le nom. Par exemple, si on veut afficher la composante <code>note</code> de l’objet <code>examen</code>, on peut utiliser la commande</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>examen<span class="sc">$</span>note</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 5.7 4.1 5.9 3.6 3.0 3.8 3.1  NA 5.3 3.0 3.7 4.7 4.0 4.6 4.1 4.2 3.2 3.1 4.7
[20] 4.9 3.7 3.6 4.1  NA 4.3 4.3  NA 3.3 3.6 3.4  NA 1.3 3.3 1.3 3.4 3.8 4.1 4.6
[39]  NA 4.0  NA 2.3 3.5 4.0 3.2 3.4  NA 4.0 1.8 4.5 2.9 4.4  NA</code></pre>
</div>
</div>
<p><strong>h.</strong> On peut aussi accéder en profondeur aux composantes comme par exemple par la commande</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>examen<span class="sc">$</span>note[<span class="dv">10</span>]</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><strong>i.</strong> La méthode la plus simple pour créer un vecteur consiste à énumérer ses éléments à l’aide de la fonction <code>c()</code> :</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>mesdonnees<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fl">2.9</span>, <span class="fl">3.4</span>, <span class="fl">3.4</span>, <span class="fl">3.7</span>, <span class="fl">3.7</span>, <span class="fl">2.8</span>, <span class="fl">2.1</span>, <span class="fl">2.5</span>, <span class="fl">2.6</span>, <span class="fl">1.5</span>)</span>
<span id="cb14-2"><a href="#cb14-2"></a>mesdonnees</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2.9 3.4 3.4 3.7 3.7 2.8 2.1 2.5 2.6 1.5</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>couleurs<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"bleu"</span>, <span class="st">"vert"</span>, <span class="st">"blanc"</span>, <span class="st">"jaune"</span>, <span class="st">"noir"</span>)</span>
<span id="cb16-2"><a href="#cb16-2"></a>couleurs</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "bleu"  "vert"  "blanc" "jaune" "noir" </code></pre>
</div>
</div>
<p><strong>j.</strong> On peut ôter des composantes d’un vecteur en indiquant entre crochets les indices précédés du signe négatif comme par exemple</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>mesdonnees[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">9</span>)]</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.9 3.4 3.4 3.7 3.7 1.5</code></pre>
</div>
</div>
<p><strong>k.</strong> Finalement, le contenu de votre environnement de travail est affiché à l’aide de la fonction <code>ls().</code></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "couleurs"   "cpus"       "data_files" "dataDir"    "examen"    
[6] "mesdonnees"</code></pre>
</div>
</div>
</section>
<section id="exercice-2" class="level1">
<h1>Exercice 2</h1>
<p>La performance relative au processeur <em>IBM 370/158-3</em> de <span class="math inline">\(50\)</span> processeurs d’ordinateurs a été relevée.</p>
<p><br></p>
<span class="math display">\[\begin{array}{cccccccccc}
76  &amp; 18   &amp; 22  &amp; 144  &amp; 12  &amp; 185   &amp; 38   &amp; 24   &amp; 45   &amp; 38   \\[1mm]
65  &amp; 141  &amp; 44  &amp; 58   &amp; 12  &amp; 510   &amp; 370  &amp; 66   &amp; 915  &amp; 25   \\[1mm]  
30  &amp; 66   &amp; 36  &amp; 14   &amp; 26  &amp; 92    &amp; 7    &amp; 36   &amp; 133  &amp; 66   \\[1mm]  
24  &amp; 10   &amp; 36  &amp; 100  &amp; 60  &amp; 33    &amp; 40   &amp; 19   &amp; 16   &amp; 130  \\[1mm]  
62  &amp; 21   &amp; 32  &amp; 64   &amp; 24  &amp; 110   &amp; 11   &amp; 56   &amp; 46   &amp; 136  \\[1mm]  
\end{array}\]</span>
<p><br></p>
<p>L’objet <code>cpus</code> contient les valeurs observées.</p>
<p><strong>a.</strong> Constuire un diagramme branche-et-feuilles, une boîte à moustaches et un histogramme des données observées à l’aide des commandes ci-dessous.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">stem</span>(cpus)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  The decimal point is 2 digit(s) to the right of the |

  0 | 111111222222223333344444445566666777789
  1 | 01334449
  2 | 
  3 | 7
  4 | 
  5 | 1
  6 | 
  7 | 
  8 | 
  9 | 2</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="annotated-cell-12"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1" onclick="event.preventDefault();" href="">1</a><span id="annotated-cell-12-1" class="code-annotation-target"><a href="#annotated-cell-12-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">pty=</span><span class="st">"s"</span>)</span>
<span id="annotated-cell-12-2"><a href="#annotated-cell-12-2"></a><span class="fu">boxplot</span>(cpus, <span class="at">xlab=</span><span class="st">"performance relative"</span>, <span class="at">col=</span><span class="st">"lightskyblue3"</span>, <span class="at">horizontal=</span>T) </span>
<span id="annotated-cell-12-3"><a href="#annotated-cell-12-3"></a><span class="fu">rug</span>(cpus)</span>
<span id="annotated-cell-12-4"><a href="#annotated-cell-12-4"></a><span class="fu">hist</span>(cpus, <span class="at">xlab=</span><span class="st">"performance relative"</span>, <span class="at">ylab=</span><span class="st">"fréquence"</span>, <span class="at">main=</span><span class="st">""</span>, </span>
<span id="annotated-cell-12-5"><a href="#annotated-cell-12-5"></a>     <span class="at">col=</span><span class="st">"lightskyblue3"</span>) </span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="1" data-code-annotation="1">Quels sont les effets de cette commande ?</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TP1_Etudiants_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<blockquote class="blockquote">
<p>La fonction par() permet de définir des paramètres liés au graphiques</p>
<p>Le paramètre mfrow() permet de diviser la zone de graphique en 1 ligne et 2 colonnes, et pty indique que la forme des graphiques seront des carrés.</p>
</blockquote>
<ol start="2" type="1">
<li>Quel est l’effet de la fonction <code>rug()</code> ?</li>
</ol>
<blockquote class="blockquote">
<p>La fonction rug() permet d’ajoute en dessous du boxplot des petites barres (une par valeur individuelle). Ca permet de voir visuellement où se concentrent les données</p>
</blockquote>
<p>Observer les résultats obtenus par chaque commande.</p>
<p><strong>b.</strong> Commenter la distribution des valeurs observées en se basant sur les graphiques de la Figure : valeur(s) atypique(s), asymétrie.</p>
<blockquote class="blockquote">
<p>En observant les graphiques, on voit que la majorité des 50 processeurs ont une performance relative comprise entre 0 et 100 : la distribution est donc fortement concentrée vers les faibles valeurs. Le boxplot met clairement en évidence plusieurs valeurs atypiques situées beaucoup plus haut, entre environ 200 et 800, correspondant à quelques processeurs nettement plus performants que les autres.</p>
<p>La distribution présente est une asymétrique positive. La queue de la distribution s’étends vers les fortes performances. On peut facilement aperçevoir cette asymétrique dans le boxplot et l’histogramme</p>
</blockquote>
<p><strong>c.</strong> Calculer la performance relative médiane et la performance relative moyenne des valeurs observées en utilisant les fonctions de <strong><em>R</em></strong> adéquates.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">median</span>(cpus)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 42</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">mean</span>(cpus)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 86.88</code></pre>
</div>
</div>
<p>Est-il plus approprié d’utiliser la médiane ou la moyenne ?</p>
<blockquote class="blockquote">
<p>La moyenne est fortement influencée par quelques processeurs très performants, ce qui la tire vers le haut. La médiane, moins sensible aux valeurs extrêmes, reflète mieux la performance typique, concentrée entre 0 et 75. Dans ce cas, la médiane est donc plus appropriée que la moyenne pour représenter le centre de la distribution.</p>
</blockquote>
<p><strong>d.</strong> Déterminer le(s) mode(s) des valeurs observées en complétant les commandes ci-dessous :</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>n.cpus <span class="ot">&lt;-</span> <span class="fu">table</span>(cpus)</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="fu">as.numeric</span>(<span class="fu">names</span>(n.cpus)[n.cpus <span class="sc">==</span> <span class="fu">max</span>(n.cpus)])</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24 36 66</code></pre>
</div>
</div>
<p><strong>e.</strong> Que fait la commande suivante ?</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">summary</span>(cpus)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   7.00   24.00   42.00   86.88   73.50  915.00 </code></pre>
</div>
</div>
<blockquote class="blockquote">
<p><code>summary()</code> est une manière rapide d’avoir un aperçu statistique d’un vecteur ou d’une variable.<br>
</p>
<p>Elle fournit des informations comme la valeur minimale, la valeur maximale, la médiane, la moyenne et les quartiles pour les données numériques.</p>
</blockquote>
<p><strong>f.</strong> Décrire l’effet sur la moyenne et sur la médiane des trois interventions suivantes :</p>
<ol type="1">
<li><p>ajouter un processeur de performance relative <span class="math inline">\(41\)</span>;</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>cpus_2 <span class="ot">&lt;-</span> <span class="fu">c</span>(cpus, <span class="dv">41</span>)</span>
<span id="cb32-2"><a href="#cb32-2"></a></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="fu">mean</span>(cpus_2)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 85.98039</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">median</span>(cpus_2)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 41</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Effet sur la moyenne <strong>:</strong> La moyenne sera légèrement abaissée, car la nouvelle valeur 41 est inférieure à l’ancienne moyenne.</p>
<p>Effet sur la médiane <strong>:</strong> La médiane peut changer légèrement selon la position de cette nouvelle valeur dans l’ordre des données. Ici, elle pourrait devenir 41 ou rester proche de 42, puisque la valeur ajoutée est proche de l’ancienne médiane.</p>
</blockquote></li>
<li><p>soustraire <span class="math inline">\(7\)</span> à chaque valeur observée;</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>cpus_2 <span class="ot">&lt;-</span> cpus <span class="sc">-</span> <span class="dv">7</span></span>
<span id="cb36-2"><a href="#cb36-2"></a></span>
<span id="cb36-3"><a href="#cb36-3"></a><span class="fu">mean</span>(cpus_2)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 79.88</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">median</span>(cpus_2)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Effet sur la moyenne : La moyenne diminue exactement de 7, car on soustrait la même quantité à toutes les observations.</p>
<p>Effet sur la médiane : La médiane diminue également exactement de 7 pour la même raison.</p>
</blockquote></li>
<li><p>diviser chaque observation par <span class="math inline">\(3\)</span>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>cpus_2 <span class="ot">&lt;-</span> cpus <span class="sc">/</span> <span class="dv">3</span></span>
<span id="cb40-2"><a href="#cb40-2"></a></span>
<span id="cb40-3"><a href="#cb40-3"></a><span class="fu">mean</span>(cpus_2)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 28.96</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">median</span>(cpus_2)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Effet sur la moyenne : La moyenne est divisée par 3, car chaquevaleur est réduite d’un facteur de 3.</p>
<p>Effet sur la médiane : La médiane est également divisée par 3, pour la même raison.</p>
</blockquote></li>
</ol>
<p><strong>g.</strong> Calculer l’écart-type des performances relatives une fois avec les valeurs atypiques et une fois sans en utilisant la fonction <code>sd()</code>. Les valeurs atypiques peuvent être déterminées à l’aide de la fonction <code>boxplot()</code> avec <code>plot=FALSE</code> comme argument.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>cpus_sans_atypiques <span class="ot">&lt;-</span> cpus[cpus<span class="sc">&lt;</span><span class="dv">185</span>]</span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">sd</span>(cpus)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 148.4294</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">sd</span>(cpus_sans_atypiques)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 38.5864</code></pre>
</div>
</div>
<p>Que constate-t-on ? L’écart-type est-il un indicateur robuste ?</p>
<blockquote class="blockquote">
<p>On constate que l’écart-type est très sensible aux valeurs atypiques. En effet, lorsqu’on ne retire pas les valeurs atypiques, l’écart-type est de 148, soit environ trois fois plus élevé que lorsqu’on les enlève (38). Cela s’explique par le fait que l’écart-type se calcule à partir des carrés des écarts à la moyenne, ce qui amplifie l’effet des valeurs très éloignées.</p>
<p>Ainsi, l’écart-type n’est pas un indicateur robuste: il peut être fortement influencé par quelques valeurs extrêmes.</p>
</blockquote>
</section>
<section id="exercice-3" class="level1">
<h1>Exercice 3</h1>
<p>Les étudiants suivant un cours de Mathématiques dans une école d’ingénierie ont passé l’examen de fin d’unité. Le cours était donné à <span class="math inline">\(53\)</span> étudiants répartis en deux groupes notés <em>A</em> et <em>C</em>. Les résultats obtenus figurent dans la table ci-dessous et sont contenus dans l’objet <code>examen</code>.</p>
<div class="cell" data-tbl-cap="Notes obtenues par les étudiants à l'examen de fin d'unité du cours de Mathématiques.">
<div class="cell-output-display">
<div id="skpqmhnanc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#skpqmhnanc table {
  font-family: 'Noto Sans', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#skpqmhnanc thead, #skpqmhnanc tbody, #skpqmhnanc tfoot, #skpqmhnanc tr, #skpqmhnanc td, #skpqmhnanc th {
  border-style: none;
}

#skpqmhnanc p {
  margin: 0;
  padding: 0;
}

#skpqmhnanc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #F6F6F6;
  width: auto;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #40C5FF;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#skpqmhnanc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#skpqmhnanc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #F6F6F6;
  border-bottom-width: 0;
}

#skpqmhnanc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #F6F6F6;
  border-top-width: 0;
}

#skpqmhnanc .gt_heading {
  background-color: #F6F6F6;
  text-align: left;
  border-bottom-color: #F6F6F6;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#skpqmhnanc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
}

#skpqmhnanc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #40C5FF;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #ECECEC;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#skpqmhnanc .gt_col_heading {
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#skpqmhnanc .gt_column_spanner_outer {
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#skpqmhnanc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#skpqmhnanc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#skpqmhnanc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #ECECEC;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#skpqmhnanc .gt_spanner_row {
  border-bottom-style: hidden;
}

#skpqmhnanc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #BEBEBE;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #BEBEBE;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#skpqmhnanc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: bold;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #BEBEBE;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #BEBEBE;
  vertical-align: middle;
}

#skpqmhnanc .gt_from_md > :first-child {
  margin-top: 0;
}

#skpqmhnanc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#skpqmhnanc .gt_row {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: white;
  border-top-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#skpqmhnanc .gt_stub {
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#skpqmhnanc .gt_stub_row_group {
  color: #333333;
  background-color: #F6F6F6;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#skpqmhnanc .gt_row_group_first td {
  border-top-width: 1px;
}

#skpqmhnanc .gt_row_group_first th {
  border-top-width: 1px;
}

#skpqmhnanc .gt_summary_row {
  color: #333333;
  background-color: #F6F6F6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#skpqmhnanc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#skpqmhnanc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#skpqmhnanc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#skpqmhnanc .gt_grand_summary_row {
  color: #333333;
  background-color: #F6F6F6;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#skpqmhnanc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#skpqmhnanc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#skpqmhnanc .gt_striped {
  background-color: #ECECEC;
}

#skpqmhnanc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #FFFFFF;
}

#skpqmhnanc .gt_footnotes {
  color: #333333;
  background-color: #F6F6F6;
  border-bottom-style: none;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#skpqmhnanc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#skpqmhnanc .gt_sourcenotes {
  color: #333333;
  background-color: #F6F6F6;
  border-bottom-style: none;
  border-bottom-width: 0px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#skpqmhnanc .gt_sourcenote {
  font-size: 12px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#skpqmhnanc .gt_left {
  text-align: left;
}

#skpqmhnanc .gt_center {
  text-align: center;
}

#skpqmhnanc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#skpqmhnanc .gt_font_normal {
  font-weight: normal;
}

#skpqmhnanc .gt_font_bold {
  font-weight: bold;
}

#skpqmhnanc .gt_font_italic {
  font-style: italic;
}

#skpqmhnanc .gt_super {
  font-size: 65%;
}

#skpqmhnanc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#skpqmhnanc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#skpqmhnanc .gt_indent_1 {
  text-indent: 5px;
}

#skpqmhnanc .gt_indent_2 {
  text-indent: 10px;
}

#skpqmhnanc .gt_indent_3 {
  text-indent: 15px;
}

#skpqmhnanc .gt_indent_4 {
  text-indent: 20px;
}

#skpqmhnanc .gt_indent_5 {
  text-indent: 25px;
}

#skpqmhnanc .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#skpqmhnanc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<caption>Notes obtenues par les étudiants à l’examen de fin d’unité du cours de Mathématiques.</caption>
<thead>
<tr class="gt_heading header">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="color: #005689; font-size: 22px; font-weight: 700">Table des notes selon les groupes</td>
</tr>
<tr class="gt_col_headings even">
<th id="groupe" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">groupe</th>
<th id="mode_de_formation" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">mode_de_formation</th>
<th id="somme" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">somme</th>
<th id="note" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">note</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="groupe" style="border-top-width: 0px; border-top-style: solid; border-top-color: white">A</td>
<td class="gt_row gt_left" headers="mode_de_formation" style="border-top-width: 0px; border-top-style: solid; border-top-color: white">EE</td>
<td class="gt_row gt_right" headers="somme" style="border-top-width: 0px; border-top-style: solid; border-top-color: white">47.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #F14700; color: #FFFFFF; border-top-width: 0px; border-top-style: solid; border-top-color: white">5.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">30.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E7BF1C; color: #000000">4.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">49.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #F21A00; color: #FFFFFF">5.9</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">PT</td>
<td class="gt_row gt_right gt_striped" headers="somme">26.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #EBCC2A; color: #000000">3.6</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">19.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #BDC185; color: #000000">3.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">28.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E9C725; color: #000000">3.8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">21.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #C6C279; color: #000000">3.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">PT</td>
<td class="gt_row gt_right gt_striped" headers="somme">NA</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #808080; color: #FFFFFF">NA</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">42.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #ED7A00; color: #FFFFFF">5.3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right gt_striped" headers="somme">19.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #BDC185; color: #000000">3.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">26.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #EAC927; color: #000000">3.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right gt_striped" headers="somme">37.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E1B003; color: #000000">4.7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">29.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #E8C21F; color: #000000">4.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">35.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E2B308; color: #000000">4.6</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">PT</td>
<td class="gt_row gt_right" headers="somme">30.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #E7BF1C; color: #000000">4.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">32.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E6BD19; color: #000000">4.2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">21.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #CEC46C; color: #000000">3.2</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">21.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #C6C279; color: #000000">3.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">PT</td>
<td class="gt_row gt_right" headers="somme">36.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #E1B003; color: #000000">4.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">38.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E5A100; color: #000000">4.9</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">27.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #EAC927; color: #000000">3.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right gt_striped" headers="somme">26.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #EBCC2A; color: #000000">3.6</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">31.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #E7BF1C; color: #000000">4.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right gt_striped" headers="somme">NA</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #808080; color: #FFFFFF">NA</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">32.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #E5BA15; color: #000000">4.3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">PT</td>
<td class="gt_row gt_right gt_striped" headers="somme">32.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E5BA15; color: #000000">4.3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">A</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">NA</td>
<td class="gt_row gt_right" headers="note" style="background-color: #808080; color: #FFFFFF">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">A</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">22.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #D6C65F; color: #000000">3.3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">25.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #EBCC2A; color: #000000">3.6</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">23.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #DDC850; color: #000000">3.4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">NA</td>
<td class="gt_row gt_right" headers="note" style="background-color: #808080; color: #FFFFFF">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">2.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #3B9AB2; color: #FFFFFF">1.3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">23.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #D6C65F; color: #000000">3.3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">3.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #3B9AB2; color: #FFFFFF">1.3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">24.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #DDC850; color: #000000">3.4</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">27.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E9C725; color: #000000">3.8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">31.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #E7BF1C; color: #000000">4.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">36.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E2B308; color: #000000">4.6</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">NA</td>
<td class="gt_row gt_right" headers="note" style="background-color: #808080; color: #FFFFFF">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right gt_striped" headers="somme">29.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E8C21F; color: #000000">4.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">NA</td>
<td class="gt_row gt_right" headers="note" style="background-color: #808080; color: #FFFFFF">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">13.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #71B3C3; color: #000000">2.3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">24.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #E4CA3F; color: #000000">3.5</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right gt_striped" headers="somme">30.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E8C21F; color: #000000">4.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">21.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #CEC46C; color: #000000">3.2</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">23.5</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #DDC850; color: #000000">3.4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">NA</td>
<td class="gt_row gt_right" headers="note" style="background-color: #808080; color: #FFFFFF">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right gt_striped" headers="somme">30.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E8C21F; color: #000000">4.0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">8.0</td>
<td class="gt_row gt_right" headers="note" style="background-color: #58A7BA; color: #FFFFFF">1.8</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right gt_striped" headers="somme">35.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E3B50D; color: #000000">4.5</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">TP</td>
<td class="gt_row gt_right" headers="somme">18.5</td>
<td class="gt_row gt_right" headers="note" style="background-color: #B3BF91; color: #000000">2.9</td>
</tr>
<tr class="even">
<td class="gt_row gt_left gt_striped" headers="groupe">C</td>
<td class="gt_row gt_left gt_striped" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right gt_striped" headers="somme">34.0</td>
<td class="gt_row gt_right gt_striped" headers="note" style="background-color: #E4B812; color: #000000">4.4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="groupe">C</td>
<td class="gt_row gt_left" headers="mode_de_formation">EE</td>
<td class="gt_row gt_right" headers="somme">NA</td>
<td class="gt_row gt_right" headers="note" style="background-color: #808080; color: #FFFFFF">NA</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>On se demande si une différence significative existe entre les deux groupes à l’examen.</p>
<p><strong>a.</strong> Tracer les boîtes à moustaches en parallèle en utilisant les commandes suivantes :<br>
</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>airforceblue<span class="ot">&lt;-</span><span class="st">"#5D8AA8"</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="fu">par</span>(<span class="at">pty=</span><span class="st">"s"</span>)</span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="fu">boxplot</span>(note<span class="sc">~</span>groupe, <span class="at">data=</span>examen, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">6</span>), <span class="at">xlab=</span><span class="st">"groupe"</span>, </span>
<span id="cb48-4"><a href="#cb48-4"></a>        <span class="at">varwidth=</span>T, <span class="at">col=</span>airforceblue, <span class="at">main=</span><span class="st">"examen"</span>)</span>
<span id="cb48-5"><a href="#cb48-5"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">4</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TP1_Etudiants_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>b.</strong> Rajouter les bâtonnets des notes des étudiants des deux classes, sur le côté gauche des boîtes à moustaches pour la classe <span class="math inline">\(A\)</span> (<code>side=2</code> comme argument de la fonction <code>rug()</code>) et sur le côté droite pour la classe <span class="math inline">\(C\)</span> (<code>side=4</code> comme argument de la fonction <code>rug()</code>).</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>note.A<span class="ot">&lt;-</span><span class="fu">split</span>(examen<span class="sc">$</span>note, examen<span class="sc">$</span>groupe)<span class="sc">$</span>A</span>
<span id="cb49-2"><a href="#cb49-2"></a>note.C<span class="ot">&lt;-</span><span class="fu">split</span>(examen<span class="sc">$</span>note, examen<span class="sc">$</span>groupe)<span class="sc">$</span>C</span>
<span id="cb49-3"><a href="#cb49-3"></a></span>
<span id="cb49-4"><a href="#cb49-4"></a>airforceblue<span class="ot">&lt;-</span><span class="st">"#5D8AA8"</span></span>
<span id="cb49-5"><a href="#cb49-5"></a><span class="fu">par</span>(<span class="at">pty=</span><span class="st">"s"</span>)</span>
<span id="cb49-6"><a href="#cb49-6"></a><span class="fu">boxplot</span>(note<span class="sc">~</span>groupe, <span class="at">data=</span>examen, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">6</span>), <span class="at">xlab=</span><span class="st">"groupe"</span>, </span>
<span id="cb49-7"><a href="#cb49-7"></a>        <span class="at">varwidth=</span>T, <span class="at">col=</span>airforceblue, <span class="at">main=</span><span class="st">"examen"</span>)</span>
<span id="cb49-8"><a href="#cb49-8"></a><span class="fu">abline</span>(<span class="at">h=</span><span class="dv">4</span>, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb49-9"><a href="#cb49-9"></a></span>
<span id="cb49-10"><a href="#cb49-10"></a><span class="fu">rug</span>(note.A, <span class="at">side=</span><span class="dv">2</span>)</span>
<span id="cb49-11"><a href="#cb49-11"></a><span class="fu">rug</span>(note.C, <span class="at">side=</span><span class="dv">4</span>)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TP1_Etudiants_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><div>

</div></li>
</ul>
<p><strong>c.</strong> En se basant sur la Figure, existe-t-il une différence significative entre les deux groupes à l’examen de fin d’unité ?</p>
<blockquote class="blockquote">
<p>En se basant uniquement sur les boxplots, on peut observer que le groupe A semble avoir des notes plus élevées que le groupe C, car la médiane du groupe A est plus haute et la boîte (IQR) se situe globalement à des valeurs plus élevées.</p>
</blockquote>
<p><strong>d.</strong> Observe-t-on sur les boîtes à moustaches une différence entre les dispersions des deux groupes ?</p>
<blockquote class="blockquote">
<p>Les tailles des boîtes semblent assez similaires, donc l’étendue interquartile est comparable pour les deux classes.</p>
</blockquote>
<p><strong>e.</strong> Calculer les écarts-types des deux groupes à l’aide des fonctions <code>by()</code> et <code>sd()</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">by</span>(examen<span class="sc">$</span>note, examen<span class="sc">$</span>groupe, <span class="cf">function</span>(x) <span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>examen$groupe: A
[1] 0.8093207
------------------------------------------------------------ 
examen$groupe: C
[1] 0.9800107</code></pre>
</div>
</div>
<p>En se basant sur les écarts-types, existe-t-il une différence en dispersion entre les deux groupes à l’examen de fin d’unité ?</p>
<blockquote class="blockquote">
<p>Oui il y a une différence de dispersion entre les deux groupes. Les notes du groupe C sont plus dispersées que celles du groupe A.</p>
</blockquote>
<p><strong>f.</strong> Que peut-on déduire en comparant les conclusions établies en <strong>c.</strong>, <strong>d.</strong> et <strong>e.</strong> ?</p>
<blockquote class="blockquote">
<p>On en déduit que les boxplots ne reflètent pas entièrement la dispersion mesurée par l’écart-type, car ils se concentrent sur les 50 % centraux des données et sont peu sensibles aux valeurs extrêmes. Ainsi, des données peuvent sembler avoir une dispersion similaire visuellement, tout en présentant des écarts-types différents.</p>
</blockquote>
<p><strong>g.</strong> Un autre graphique pour étudier les éventuelles différences entre les deux groupes à l’examen de fin d’unité se trouve dans la Figure.</p>
<p>À votre avis, entre les boîtes à moustaches en parallèle et le graphique tracé ci-dessus, lequel est le plus approprié ?</p>
<blockquote class="blockquote">
<p>Chacun a ses avantages : le boxplot permet de visualiser rapidement la médiane et les valeurs atypiques, tandis que le graphique de densité montre la forme complète de la distribution, ce qui est utile pour comparer plusieurs distributions continues.</p>
<p>Si je devais en choisir un, je privilégierais le graphique de densité.</p>
</blockquote>
</section>
<section id="exercice-4" class="level1">
<h1>Exercice 4</h1>
<p>Une partie de la base de données du recensement américain<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> de <span class="math inline">\(1994\)</span> a été extraite. Elle concerne <span class="math inline">\(48'842\)</span> personnes adultes dont on s’intéresse notamment à l’influence que peut avoir le type de scolarité, formation acquise par l’individu, sur le nombre d’heures de travail par semaine. Par simplicité et pour préserver l’authenticité du système éducatif américain, le nom des variables n’est pas traduit en français.</p>
<p><strong>a.</strong> Nous nous proposons de tracer les boîtes à moustaches en parallèle du temps consacré au travail par les individus recensés. Pour y parvenir, nous utilisons la librairie <code>ggplot2</code><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> qu’il faut d’abord installer puis activer dans votre session.</p>
<p>La librairie <code>ggplot2</code> explicite les liens conceptuels entre graphiques et analyses statistiques. Sa syntaxe est particulière mais ingénieuse. Elle se base sur un ensemble de composants indépendants qui peuvent être combinés de différentes manières<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.</p>
<p>Les données du recensement se trouvent dans la librairie <code>arules</code> de <strong><em>R</em></strong> qui doit être installée puis activée.</p>
<p>Les observations sont lues dans le logiciel à l’aide de la commande</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">library</span>(arules)</span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="fu">data</span>(<span class="st">"AdultUCI"</span>)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>et les variables qui nous intéressent sont sélectionnées et stockées dans l’objet <code>dframe</code> par les commandes</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>dframe<span class="ot">&lt;-</span>AdultUCI[, <span class="fu">c</span>(<span class="st">"education"</span>, <span class="st">"hours-per-week"</span>)]</span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="fu">colnames</span>(dframe)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"education"</span>, <span class="st">"hours_per_week"</span>) </span>
<span id="cb53-3"><a href="#cb53-3"></a></span>
<span id="cb53-4"><a href="#cb53-4"></a><span class="fu">str</span>(dframe)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Pourquoi ce changement de nom de variable ?</p>
<blockquote class="blockquote">
<p>Le changement de nom de variable permet d’éviter l’utilisation du caractère <code>-</code>, qui est interprété comme un opérateur arithmétique en R. Renommer la variable avec un underscore rend son utilisation plus simple et évite des erreurs de syntaxe.</p>
</blockquote>
<p>Tracer les boîtes à moustaches en parallèle de la Figure dans lesquelles est représenté le temps hebdomadaire consacré au travail par les Américains recensés selon leur formation.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>n<span class="ot">=</span><span class="fu">dim</span>(<span class="fu">na.omit</span>(dframe))[<span class="dv">1</span>]</span>
<span id="cb54-2"><a href="#cb54-2"></a>today<span class="ot">&lt;-</span><span class="fu">format</span>(<span class="fu">Sys.time</span>(), <span class="st">"%a %b %d %X %Y"</span>)</span>
<span id="cb54-3"><a href="#cb54-3"></a></span>
<span id="cb54-4"><a href="#cb54-4"></a><span class="fu">ggplot</span>(dframe, <span class="fu">aes</span>(<span class="at">x=</span>hours_per_week, <span class="at">y=</span>education)) <span class="sc">+</span> </span>
<span id="cb54-5"><a href="#cb54-5"></a>  <span class="fu">geom_point</span>(<span class="at">colour=</span><span class="st">"#FFBA49"</span>, <span class="at">alpha=</span><span class="fl">0.1</span>, <span class="at">position=</span><span class="st">"jitter"</span>) <span class="sc">+</span> </span>
<span id="cb54-6"><a href="#cb54-6"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.size=</span><span class="dv">0</span>, <span class="at">alpha=</span><span class="fl">0.2</span>) <span class="sc">+</span> </span>
<span id="cb54-7"><a href="#cb54-7"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size=</span><span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb54-8"><a href="#cb54-8"></a>  <span class="fu">theme</span>(</span>
<span id="cb54-9"><a href="#cb54-9"></a>    <span class="at">legend.position=</span><span class="st">"none"</span>, </span>
<span id="cb54-10"><a href="#cb54-10"></a>    <span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face=</span><span class="st">"bold"</span>)) <span class="sc">+</span> </span>
<span id="cb54-11"><a href="#cb54-11"></a>  <span class="fu">labs</span>(</span>
<span id="cb54-12"><a href="#cb54-12"></a>      <span class="at">color=</span><span class="st">""</span>,</span>
<span id="cb54-13"><a href="#cb54-13"></a>      <span class="at">fill=</span><span class="st">""</span>,</span>
<span id="cb54-14"><a href="#cb54-14"></a>      <span class="at">x=</span><span class="st">"hours per week"</span>,</span>
<span id="cb54-15"><a href="#cb54-15"></a>      <span class="at">y=</span><span class="st">""</span>,</span>
<span id="cb54-16"><a href="#cb54-16"></a>      <span class="at">title=</span><span class="fu">paste</span>(<span class="st">"Census Income Database (n = "</span>,n,<span class="st">")"</span>, <span class="at">sep=</span><span class="st">""</span>),</span>
<span id="cb54-17"><a href="#cb54-17"></a>      <span class="co">#subtitle = "(EE)",</span></span>
<span id="cb54-18"><a href="#cb54-18"></a>      <span class="at">caption =</span> today</span>
<span id="cb54-19"><a href="#cb54-19"></a>      )</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TP1_Etudiants_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Peut-on distinguer deux groupes de types de formation dans ce graphique ? Dans l’affirmative, énumérez-les. Dans la négative, expliquez pourquoi on ne parvient pas à séparer les types de formation en deux groupes.</p>
<blockquote class="blockquote">
<p>On peut distinguer deux grands groupes de formation, les formations allant de “Preschool” à “12th” et le reste.<br>
On peut voir que les premières formations ont toutes une médiane extrêment proche de Q3 et donc une asymétrique négative, tandis que le reste ont une médiane proche de Q1 et donc une asymétrie positive. On pourrait donc comprendre que le second groupe travail davantage.</p>
</blockquote>
<p><strong>b.</strong> Calculer la proportion d’observations contenant des valeurs manquantes en utilisant les commandes ci-dessous.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="fu">dim</span>(AdultUCI)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 48842    15</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>nrows<span class="ot">&lt;-</span><span class="fu">nrow</span>(AdultUCI)</span>
<span id="cb57-2"><a href="#cb57-2"></a>n.missing<span class="ot">&lt;-</span><span class="fu">rowSums</span>(<span class="fu">is.na</span>(AdultUCI))</span>
<span id="cb57-3"><a href="#cb57-3"></a><span class="fu">sum</span>(n.missing<span class="sc">&gt;</span><span class="dv">0</span>)<span class="sc">/</span>nrows</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3824577</code></pre>
</div>
</div>
<p><strong>c.</strong> En se basant sur les boîtes à moustaches en parallèle de la Figure, pour quel type de formation observe-t-on la plus petite dispersion du temps de travail ? Existe-t-il une différence entre les médianes des types de formation ? En donner brièvement la raison.</p>
<blockquote class="blockquote">
<p>La plus petite dispersion du temps de travail est trouvé sur le type de formation “5th-6th”.</p>
<p>Non, il n’y a pas une grande différence entre les médianes des types de formation, tous autour de 40h/semaine. Ca peut expliqué car quel que soit le niveau de formation, un grande partie des individus travaillent à temps plain (environ 40h/semaine) et donc homogénise les médianes entre les groupes.</p>
</blockquote>
<p><strong>d.</strong> Pour chaque type de formation, on peut déterminer puis afficher à l’écran le temps maximal de travail hebdomadaire. Compléter les commandes ci-dessous pour y parvenir.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>nx <span class="ot">&lt;-</span> <span class="fu">by</span>(dframe<span class="sc">$</span>hours_per_week, dframe<span class="sc">$</span>education, max, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>La formation pour laquelle un temps maximal minimal a été observé se détermine par les commandes</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="fu">min</span>(nx)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 75</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="fu">names</span>(nx)[nx<span class="sc">==</span><span class="fu">min</span>(nx)]</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Preschool"</code></pre>
</div>
</div>
<p>Est-ce surprenant ?</p>
<blockquote class="blockquote">
<p>Non pas vraiment. Le niveau “Preschool” est logique. C’est simpliement le groupe avec le moins d’accès à des emplois très exigeants en heures de travail.</p>
</blockquote>
<p><strong>e.</strong> En s’inspirant des commandes utilisées ci-dessus, déterminer la formation pour laquelle la distribution des temps de travail se caractérise par le plus grand écart-type.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>nx_sd <span class="ot">&lt;-</span> <span class="fu">by</span>(dframe<span class="sc">$</span>hours_per_week, dframe<span class="sc">$</span>education, sd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb64-2"><a href="#cb64-2"></a><span class="fu">max</span>(nx_sd)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14.98344</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">names</span>(nx_sd)[nx_sd <span class="sc">==</span> <span class="fu">max</span>(nx_sd)]</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Prof-school"</code></pre>
</div>
</div>
<p><strong>f.</strong> Observe-t-on un résultat similaire en utilisant l’étendue interquartiles à l’aide de la fonction <code>IQR()</code>?</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>nx_iqr <span class="ot">&lt;-</span> <span class="fu">by</span>(dframe<span class="sc">$</span>hours_per_week, dframe<span class="sc">$</span>education, IQR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb68-2"><a href="#cb68-2"></a><span class="fu">max</span>(nx_iqr)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="fu">names</span>(nx_iqr)[nx_iqr <span class="sc">==</span> <span class="fu">max</span>(nx_iqr)]</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "11th"</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Le résultat est différent!</p>
</blockquote>
<div id="fig-ggplot2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="h">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="ggplot2_exploratory.png" class="img-fluid figure-img" style="width:80.0%" data-fig-pos="h">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Les délices de la librairie <code>ggplot2</code>
</figcaption>
</figure>
</div>
</section>
<section id="exercice-5" class="level1">
<h1>Exercice 5</h1>
<p>Estimer et justifier les valeurs des coefficients de corrélation des séries de données à l’aide de leurs graphiques de nuage de points tracés dans la <a href="#fig-scatterplot1" class="quarto-xref">Figure&nbsp;2</a>, la <a href="#fig-scatterplot2" class="quarto-xref">Figure&nbsp;3</a>, la <a href="#fig-scatterplot3" class="quarto-xref">Figure&nbsp;4</a> et la <a href="#fig-scatterplot4" class="quarto-xref">Figure&nbsp;5</a>.</p>
<div id="fig-scatterplot1" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplot1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="scatterplot_5.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplot1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Graphiques de nuage de points I.
</figcaption>
</figure>
</div>
<blockquote class="blockquote">
<p>On observe une corrélation positive proche de 1. Elle est positive car, plus une valeur sur l’axe x est grande, plus il est probable que la valeur correspondante sur l’axe y soit également élevée. La tendance générale est clairement ascendante, ce qui permet d’estimer la corrélation à environ 0,8.</p>
</blockquote>
<div id="fig-scatterplot2" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="scatterplot_6.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplot2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Graphiques de nuage de points II.
</figcaption>
</figure>
</div>
<blockquote class="blockquote">
<p>Ici, les points sont très dispersés et il est difficile de discerner une relation linéaire, ce qui indique une corrélation proche de 0.</p>
</blockquote>
<div id="fig-scatterplot3" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplot3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="scatterplot_7.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplot3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Graphiques de nuage de points III.
</figcaption>
</figure>
</div>
<blockquote class="blockquote">
<p>La relation suit une forme parabolique, ce qui est exactement le contraire d’une relation linéaire. On peut donc estimer que la corrélation est proche de 0.</p>
</blockquote>
<div id="fig-scatterplot4" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplot4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="scatterplot_8.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplot4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Graphiques de nuage de points IV.
</figcaption>
</figure>
</div>
<blockquote class="blockquote">
<p>Ici, on peut estimer une corrélation d’environ -0,8. La corrélation est négative car, plus une valeur sur l’axe des x est grande, plus il est probable que la valeur correspondante sur l’axe y soit petite. Le nuage de points suit clairement une tendance descendante.</p>
</blockquote>
</section>
<section id="exercice-6" class="level1">
<h1>Exercice 6</h1>
<p>Une étude a été réalisée en botanique sur <span class="math inline">\(150\)</span> iris. Cinq variables ont été relevées : la longueur (<code>Sepal.Length</code>) et la largeur (<code>Sepal.Width</code>) des sépales, la longueur (<code>Petal.Length</code>) et la largeur (<code>Petal.Width</code>) des pétales, l’unité utilisée étant le centimètre, ainsi que l’espèce (<code>Species</code>) de la fleur (Setosa, Versicolor et Virginica).</p>
<div id="fig-iris-species" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="h">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-iris-species-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="iris.png" class="img-fluid figure-img" style="width:50.0%" data-fig-pos="h">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-iris-species-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Les trois espèces d’iris.
</figcaption>
</figure>
</div>
<p>Ces données, qui avaient été récoltées par Edgar Anderson, se trouvent déjà dans <strong><em>R</em></strong>. Pour les utiliser dans votre session actuelle, il suffit de taper dans la console le nom de l’objet, <code>iris</code>, qui les contient.</p>
<p><strong>a.</strong> Utiliser les librairies <code>skimr</code> et <code>summarytools</code> pour afficher les sorties qui permettent d’effectuer une analyse exploratoire des données observées. Pour la librairie <code>skimr</code> appliquer la fonction <code>skim()</code> à l’objet <code>iris</code>; appliquer la fonction <code>dfSummary()</code> à l’objet <code>iris</code> pour la librairie <code>summarytools</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="fu">library</span>(summarytools)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="fu">skim</span>(iris)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">iris</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">150</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 9%">
<col style="width: 11%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Species</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">set: 50, ver: 50, vir: 50</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 18%">
<col style="width: 13%">
<col style="width: 18%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Sepal.Length</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5.84</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">4.3</td>
<td style="text-align: right;">5.1</td>
<td style="text-align: right;">5.80</td>
<td style="text-align: right;">6.4</td>
<td style="text-align: right;">7.9</td>
<td style="text-align: left;">▆▇▇▅▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sepal.Width</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.06</td>
<td style="text-align: right;">0.44</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">2.8</td>
<td style="text-align: right;">3.00</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">4.4</td>
<td style="text-align: left;">▁▆▇▂▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Petal.Length</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.76</td>
<td style="text-align: right;">1.77</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.6</td>
<td style="text-align: right;">4.35</td>
<td style="text-align: right;">5.1</td>
<td style="text-align: right;">6.9</td>
<td style="text-align: left;">▇▁▆▇▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">Petal.Width</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.20</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">1.30</td>
<td style="text-align: right;">1.8</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: left;">▇▁▇▅▃</td>
</tr>
</tbody>
</table>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">dfSummary</span>(iris)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data Frame Summary  
iris  
Dimensions: 150 x 5  
Duplicates: 1  

-----------------------------------------------------------------------------------------------------------
No   Variable       Stats / Values          Freqs (% of Valid)   Graph                 Valid      Missing  
---- -------------- ----------------------- -------------------- --------------------- ---------- ---------
1    Sepal.Length   Mean (sd) : 5.8 (0.8)   35 distinct values     . . : :             150        0        
     [numeric]      min &lt; med &lt; max:                               : : : :             (100.0%)   (0.0%)   
                    4.3 &lt; 5.8 &lt; 7.9                                : : : : :                               
                    IQR (CV) : 1.3 (0.1)                           : : : : :                               
                                                                 : : : : : : : :                           

2    Sepal.Width    Mean (sd) : 3.1 (0.4)   23 distinct values           :             150        0        
     [numeric]      min &lt; med &lt; max:                                     :             (100.0%)   (0.0%)   
                    2 &lt; 3 &lt; 4.4                                        . :                                 
                    IQR (CV) : 0.5 (0.1)                             : : : :                               
                                                                 . . : : : : : :                           

3    Petal.Length   Mean (sd) : 3.8 (1.8)   43 distinct values   :                     150        0        
     [numeric]      min &lt; med &lt; max:                             :         . :         (100.0%)   (0.0%)   
                    1 &lt; 4.3 &lt; 6.9                                :         : : .                           
                    IQR (CV) : 3.5 (0.5)                         : :       : : : .                         
                                                                 : :   . : : : : : .                       

4    Petal.Width    Mean (sd) : 1.2 (0.8)   22 distinct values   :                     150        0        
     [numeric]      min &lt; med &lt; max:                             :                     (100.0%)   (0.0%)   
                    0.1 &lt; 1.3 &lt; 2.5                              :       . .   :                           
                    IQR (CV) : 1.5 (0.6)                         :       : :   :   .                       
                                                                 : :   : : : . : : :                       

5    Species        1. setosa               50 (33.3%)           IIIIII                150        0        
     [factor]       2. versicolor           50 (33.3%)           IIIIII                (100.0%)   (0.0%)   
                    3. virginica            50 (33.3%)           IIIIII                                    
-----------------------------------------------------------------------------------------------------------</code></pre>
</div>
</div>
<p><strong>b.</strong> La distribution de la largeur du sépale (<code>Sepal.Width</code>) est-elle plutôt symétrique ?</p>
<blockquote class="blockquote">
<p>La distribution de la largeur du sépale est plutôt symétrique, la moyenne et la médiane étant très proches et les valeurs réparties de manière équilibrée autour de la médiane.</p>
</blockquote>
<p><strong>c.</strong> La distribution de la longeur du pétale (<code>Petal.Length</code>) est-elle unimodale ou bimodale ?</p>
<blockquote class="blockquote">
<p>La distribution est bimodale</p>
</blockquote>
<p><strong>d.</strong> Tracer le nuage de points de la largeur (<code>Petal.Width</code>) versus la longueur (<code>Petal.Length</code>) des pétales des iris en utilisant les librairies <code>ggplot2</code> et <code>ggforce</code> et en complétant les commandes ci-dessous.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>pCol <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'#057076'</span>, <span class="st">'#ff8301'</span>, <span class="st">'#bf5ccb'</span>)</span>
<span id="cb76-2"><a href="#cb76-2"></a></span>
<span id="cb76-3"><a href="#cb76-3"></a>plot.iris <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(<span class="at">x =</span> Petal.Length, <span class="at">y =</span> Petal.Width, <span class="at">col =</span> Species)) <span class="sc">+</span></span>
<span id="cb76-4"><a href="#cb76-4"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> pCol) <span class="sc">+</span></span>
<span id="cb76-5"><a href="#cb76-5"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="fl">7.5</span>, <span class="at">by =</span> <span class="dv">1</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">7.5</span>)) <span class="sc">+</span></span>
<span id="cb76-6"><a href="#cb76-6"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>, <span class="dv">3</span>, <span class="at">by =</span> <span class="fl">0.5</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>, <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb76-7"><a href="#cb76-7"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Edgar Anderson's Iris Data"</span>,</span>
<span id="cb76-8"><a href="#cb76-8"></a>       <span class="at">x =</span> <span class="st">"Petal Length"</span>, </span>
<span id="cb76-9"><a href="#cb76-9"></a>       <span class="at">y =</span> <span class="st">"Petal Width"</span>) <span class="sc">+</span></span>
<span id="cb76-10"><a href="#cb76-10"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb76-11"><a href="#cb76-11"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">2</span>),</span>
<span id="cb76-12"><a href="#cb76-12"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb76-13"><a href="#cb76-13"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Species), <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb76-14"><a href="#cb76-14"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb76-15"><a href="#cb76-15"></a></span>
<span id="cb76-16"><a href="#cb76-16"></a>plot.iris <span class="sc">+</span></span>
<span id="cb76-17"><a href="#cb76-17"></a>  ggforce<span class="sc">::</span><span class="fu">geom_mark_ellipse</span>(</span>
<span id="cb76-18"><a href="#cb76-18"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> Species, <span class="at">label =</span> Species), </span>
<span id="cb76-19"><a href="#cb76-19"></a>    <span class="at">alpha =</span> <span class="fl">0.15</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb76-20"><a href="#cb76-20"></a>  )</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TP1_Etudiants_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>e.</strong> En se basant sur le graphique de nuage de points, existe-t-il une relation entre la largeur et la longueur des pétales des iris ? Dans l’affirmative, de quelle nature est-elle ?</p>
<blockquote class="blockquote">
<p>Oui, on observe une corrélation positive entre la largeur et la longueur des pétales. Cependant, cette corrélation est moins marquée pour l’espèce <em>Virginica</em> que pour les espèces <em>Setosa</em> et <em>Versicolor</em>.</p>
</blockquote>
<p><strong>f.</strong> Remarque-t-on des observations inhabituelles dans le graphique de nuage de points ?</p>
<blockquote class="blockquote">
<p>Non, aucune observation inhabituelle n’est apparente : toutes les données sont bien regroupées selon leurs espèces.</p>
</blockquote>
<p><strong>g.</strong> Déterminer la corrélation entre la largeur et la longueur des pétales des iris en utilisant la fonction <code>cor()</code>.<br>
</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="fu">cor</span>(iris<span class="sc">$</span>Petal.Length, iris<span class="sc">$</span>Petal.Width)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9628654</code></pre>
</div>
</div>
<p><strong>h.</strong> Quelle valeur attribueriez-vous à la longueur des pétales des iris pour distinguer les iris Setosa des deux autres espèces ?</p>
<blockquote class="blockquote">
<p>On peut utiliser la règle suivante : si la longueur du pétale est inférieure à 2,5 cm, l’iris appartient à l’espèce <em>Setosa</em> ; sinon, il appartient à l’une des deux autres espèces.</p>
</blockquote>
<p><strong>i.</strong> Des animations peuvent être créées dans <strong><em>R</em></strong> en utilisant la librairie <code>gganimate</code>. Un exemple peut être conçu en utilisant le code ci-dessous.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb79-2"><a href="#cb79-2"></a></span>
<span id="cb79-3"><a href="#cb79-3"></a>anim<span class="ot">&lt;-</span>plot.iris<span class="sc">+</span> </span>
<span id="cb79-4"><a href="#cb79-4"></a>  <span class="fu">transition_states</span>(Species,</span>
<span id="cb79-5"><a href="#cb79-5"></a>                    <span class="at">transition_length =</span> <span class="dv">2</span>,</span>
<span id="cb79-6"><a href="#cb79-6"></a>                    <span class="at">state_length =</span> <span class="dv">1</span>)</span>
<span id="cb79-7"><a href="#cb79-7"></a></span>
<span id="cb79-8"><a href="#cb79-8"></a>anim <span class="sc">+</span> </span>
<span id="cb79-9"><a href="#cb79-9"></a>  <span class="fu">enter_fade</span>() <span class="sc">+</span> </span>
<span id="cb79-10"><a href="#cb79-10"></a>  <span class="fu">exit_shrink</span>() <span class="sc">+</span> </span>
<span id="cb79-11"><a href="#cb79-11"></a>  <span class="fu">ggtitle</span>(<span class="st">'Now showing {closest_state}'</span>,</span>
<span id="cb79-12"><a href="#cb79-12"></a>        <span class="at">subtitle =</span> <span class="st">'Frame {frame} of {nframes}'</span>)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TP1_Etudiants_files/figure-html/unnamed-chunk-35-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>j.</strong> Installer la librairie <code>reticulate</code> qui permet de faire du <em>Python</em> à partir de <strong><em>RStudio IDE</em></strong>. Fixer ensuite l’interpréteur Python dans la rubrique <em>Python</em> de la boîte de dialogue <em>Options</em>. Cette boîte de dialogue s’affiche à l’écran en utilisant le menu <em>Tools</em> puis <em>Global Options…</em> de <strong><em>RStudio IDE</em></strong>. Si nécessaire, il faut créer un environnement <em>Python</em> et y installer les librairies.</p>
<p><br></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Python_interpreter.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>L’interpréteur Python de <strong><em>RStudio IDE</em></strong>.</figcaption>
</figure>
</div>
<p><br></p>
<p>Reconstituer le graphique ci-dessous en utilisant en particulier les librairies <code>pandas</code>, <code>numpy</code> et le module <code>matplotlib.pyplot</code> de la bibliothèque <code>matplotlib</code> de Python.</p>
<ul>
<li><div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb80-2"><a href="#cb80-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb80-3"><a href="#cb80-3"></a></span>
<span id="cb80-4"><a href="#cb80-4"></a>iris <span class="op">=</span> r.iris</span>
<span id="cb80-5"><a href="#cb80-5"></a></span>
<span id="cb80-6"><a href="#cb80-6"></a></span>
<span id="cb80-7"><a href="#cb80-7"></a>colors_map <span class="op">=</span> {<span class="st">'setosa'</span>: <span class="st">'red'</span>, <span class="st">'versicolor'</span>: <span class="st">'green'</span>, <span class="st">'virginica'</span>: <span class="st">'blue'</span>}</span>
<span id="cb80-8"><a href="#cb80-8"></a>colors <span class="op">=</span> iris[<span class="st">'Species'</span>].<span class="bu">map</span>(colors_map)</span>
<span id="cb80-9"><a href="#cb80-9"></a></span>
<span id="cb80-10"><a href="#cb80-10"></a>plt.scatter(iris[<span class="st">'Petal.Length'</span>], iris[<span class="st">'Petal.Width'</span>], c<span class="op">=</span>colors)</span>
<span id="cb80-11"><a href="#cb80-11"></a>plt.xlabel(<span class="st">'Petal Length'</span>)</span>
<span id="cb80-12"><a href="#cb80-12"></a>plt.ylabel(<span class="st">'Petal Width'</span>)</span>
<span id="cb80-13"><a href="#cb80-13"></a>plt.title(<span class="st">"Iris Petal Length vs Width"</span>)</span>
<span id="cb80-14"><a href="#cb80-14"></a>plt.show()</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TP1_Etudiants_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div></li>
</ul>
</section>
<section id="exercice-7" class="level1">
<h1>Exercice 7</h1>
<p>Pour étudier le cancer de la peau (mélanome maligne), des données avaient été relevées auprès d’hommes de population blanche vivant dans les états américains entre <span class="math inline">\(1950\)</span> et <span class="math inline">\(1969\)</span>. On se demandait si des relations pouvaient exister entre plusieurs variables statistiques telles que les données géographiques (longitude et latitude du centre de chaque état), l’océan (états côtiers ou états intérieurs) et le nombre de décès dus au cancer de la peau; la dernière variable, variable observée dans chaque état américain, est considérée comme variable réponse.</p>
<p>Les données se trouvent dans la librairie <code>HSAUR3</code> de <strong><em>R</em></strong> qui doit être installée puis activée.</p>
<p><strong>a.</strong> Reconstituer en utilisant les librairies <code>ggplot2</code> et <code>ggrepel</code> de <strong><em>R</em></strong> le graphique de nuage de points ci-dessous entre le nombre de décès dus au cancer de la peau et la latitude. Associée aux points, on a ajouté une couleur différente pour les états côtiers et pour les états intérieurs et une légende indique de quel état il s’agit.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="fu">library</span>(HSAUR3)</span>
<span id="cb81-2"><a href="#cb81-2"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb81-3"><a href="#cb81-3"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb81-4"><a href="#cb81-4"></a></span>
<span id="cb81-5"><a href="#cb81-5"></a><span class="fu">data</span>(<span class="st">"USmelanoma"</span>, <span class="at">package =</span> <span class="st">"HSAUR3"</span>)</span>
<span id="cb81-6"><a href="#cb81-6"></a></span>
<span id="cb81-7"><a href="#cb81-7"></a>USmelanoma<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(USmelanoma<span class="sc">$</span>ocean <span class="sc">==</span> <span class="st">"yes"</span>, <span class="st">"darkred"</span>, <span class="st">"black"</span>)</span>
<span id="cb81-8"><a href="#cb81-8"></a>USmelanoma<span class="sc">$</span>shape <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(USmelanoma<span class="sc">$</span>ocean <span class="sc">==</span> <span class="st">"yes"</span>, <span class="dv">17</span>, <span class="dv">16</span>)</span>
<span id="cb81-9"><a href="#cb81-9"></a></span>
<span id="cb81-10"><a href="#cb81-10"></a><span class="fu">ggplot</span>(USmelanoma, <span class="fu">aes</span>(<span class="at">x =</span> latitude, <span class="at">y =</span> mortality)) <span class="sc">+</span></span>
<span id="cb81-11"><a href="#cb81-11"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> color, <span class="at">shape =</span> <span class="fu">factor</span>(shape)), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb81-12"><a href="#cb81-12"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">rownames</span>(USmelanoma)),</span>
<span id="cb81-13"><a href="#cb81-13"></a>                  <span class="at">size =</span> <span class="fl">1.7</span>,           <span class="co"># taille de police réduite</span></span>
<span id="cb81-14"><a href="#cb81-14"></a>                  <span class="at">max.overlaps =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb81-15"><a href="#cb81-15"></a>  <span class="fu">scale_color_identity</span>(<span class="at">name =</span> <span class="st">"Type d'état"</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Intérieur"</span>, <span class="st">"Côtier"</span>), <span class="at">guide =</span> <span class="st">"legend"</span>) <span class="sc">+</span></span>
<span id="cb81-16"><a href="#cb81-16"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"16"</span> <span class="ot">=</span> <span class="dv">16</span>, <span class="st">"17"</span> <span class="ot">=</span> <span class="dv">17</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span>  </span>
<span id="cb81-17"><a href="#cb81-17"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Décès par mélanome malin vs latitude"</span>,</span>
<span id="cb81-18"><a href="#cb81-18"></a>       <span class="at">x =</span> <span class="st">"Latitude en degrés"</span>,</span>
<span id="cb81-19"><a href="#cb81-19"></a>       <span class="at">y =</span> <span class="st">"Nombre de décès"</span>) <span class="sc">+</span></span>
<span id="cb81-20"><a href="#cb81-20"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TP1_Etudiants_files/figure-html/unnamed-chunk-37-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>H</p>
<p><strong>b.</strong> En se basant sur le graphique, existe-t-il une relation entre le nombre de décès dus au cancer de la peau et la latitude ?</p>
<blockquote class="blockquote">
<p>Il existe une corrélation négative : plus la latitude augmente, moins le nombre de décès est élevé.</p>
</blockquote>
<p><strong>c.</strong> A-t-on plus de décès dus au cancer de la peau dans les états côtiers ou dans les états intérieurs ?</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="fu">aggregate</span>(mortality <span class="sc">~</span> ocean, <span class="at">data =</span> USmelanoma, mean)</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ocean mortality
1    no  138.7407
2   yes  170.2273</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>On voit numériquement que les états côtiers ont plus de décès</p>
</blockquote>
<p><strong>d.</strong> Tracer le graphique interactif ci-dessous en utilisant la librairie <code>altair</code> de <em>Python</em>.<br>
</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb84-2"><a href="#cb84-2"></a></span>
<span id="cb84-3"><a href="#cb84-3"></a>df <span class="op">=</span> r.USmelanoma</span>
<span id="cb84-4"><a href="#cb84-4"></a></span>
<span id="cb84-5"><a href="#cb84-5"></a>alt.Chart(df).mark_point(size<span class="op">=</span><span class="dv">60</span>).encode(</span>
<span id="cb84-6"><a href="#cb84-6"></a>    x<span class="op">=</span>alt.X(<span class="st">'latitude'</span>, title<span class="op">=</span><span class="st">'latitude'</span>),</span>
<span id="cb84-7"><a href="#cb84-7"></a>    y<span class="op">=</span>alt.Y(<span class="st">'mortality'</span>, title<span class="op">=</span><span class="st">'mortality'</span>),</span>
<span id="cb84-8"><a href="#cb84-8"></a>    color<span class="op">=</span>alt.Color(<span class="st">'ocean'</span>, title<span class="op">=</span><span class="st">'ocean'</span>)</span>
<span id="cb84-9"><a href="#cb84-9"></a>).properties(</span>
<span id="cb84-10"><a href="#cb84-10"></a>    title<span class="op">=</span><span class="st">'Décès par mélanome malin selon la latitude'</span></span>
<span id="cb84-11"><a href="#cb84-11"></a>).interactive()</span></code></pre></div><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">



  <style>
    #unnamed-chunk-39-altair-viz.vega-embed {
      width: 100%;
      display: flex;
    }

    #unnamed-chunk-39-altair-viz.vega-embed details,
    #unnamed-chunk-39-altair-viz.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.8.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>


  <div id="unnamed-chunk-39-altair-viz"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cad3873326f11c86f5883ab9b3fec281"}, "mark": {"type": "point", "size": 60}, "encoding": {"color": {"field": "ocean", "title": "ocean", "type": "nominal"}, "x": {"field": "latitude", "title": "latitude", "type": "quantitative"}, "y": {"field": "mortality", "title": "mortality", "type": "quantitative"}}, "params": [{"name": "param_1", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales"}], "title": "D\u00e9c\u00e8s par m\u00e9lanome malin selon la latitude", "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json", "datasets": {"data-cad3873326f11c86f5883ab9b3fec281": [{"mortality": 219, "latitude": 33.0, "longitude": 87.0, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 160, "latitude": 34.5, "longitude": 112.0, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 170, "latitude": 35.0, "longitude": 92.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 182, "latitude": 37.5, "longitude": 119.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 149, "latitude": 39.0, "longitude": 105.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 159, "latitude": 41.8, "longitude": 72.8, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 200, "latitude": 39.0, "longitude": 75.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 177, "latitude": 39.0, "longitude": 77.0, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 197, "latitude": 28.0, "longitude": 82.0, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 214, "latitude": 33.0, "longitude": 83.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 116, "latitude": 44.5, "longitude": 114.0, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 124, "latitude": 40.0, "longitude": 89.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 128, "latitude": 40.2, "longitude": 86.2, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 128, "latitude": 42.2, "longitude": 93.8, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 166, "latitude": 38.5, "longitude": 98.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 147, "latitude": 37.8, "longitude": 85.0, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 190, "latitude": 31.2, "longitude": 91.8, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 117, "latitude": 45.2, "longitude": 69.0, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 162, "latitude": 39.0, "longitude": 76.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 143, "latitude": 42.2, "longitude": 71.8, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 117, "latitude": 43.5, "longitude": 84.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 116, "latitude": 46.0, "longitude": 94.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 207, "latitude": 32.8, "longitude": 90.0, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 131, "latitude": 38.5, "longitude": 92.0, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 109, "latitude": 47.0, "longitude": 110.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 122, "latitude": 41.5, "longitude": 99.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 191, "latitude": 39.0, "longitude": 117.0, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 129, "latitude": 43.8, "longitude": 71.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 159, "latitude": 40.2, "longitude": 74.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 141, "latitude": 35.0, "longitude": 106.0, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 152, "latitude": 43.0, "longitude": 75.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 199, "latitude": 35.5, "longitude": 79.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 115, "latitude": 47.5, "longitude": 100.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 131, "latitude": 40.2, "longitude": 82.8, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 182, "latitude": 35.5, "longitude": 97.2, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 136, "latitude": 44.0, "longitude": 120.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 132, "latitude": 40.8, "longitude": 77.8, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 137, "latitude": 41.8, "longitude": 71.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 178, "latitude": 33.8, "longitude": 81.0, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 86, "latitude": 44.8, "longitude": 100.0, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 186, "latitude": 36.0, "longitude": 86.2, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 229, "latitude": 31.5, "longitude": 98.0, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 142, "latitude": 39.5, "longitude": 111.5, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 153, "latitude": 44.0, "longitude": 72.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 166, "latitude": 37.5, "longitude": 78.5, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 117, "latitude": 47.5, "longitude": 121.0, "ocean": "yes", "color": "darkred", "shape": 17.0}, {"mortality": 136, "latitude": 38.8, "longitude": 80.8, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 110, "latitude": 44.5, "longitude": 90.2, "ocean": "no", "color": "black", "shape": 16.0}, {"mortality": 134, "latitude": 43.0, "longitude": 107.5, "ocean": "no", "color": "black", "shape": 16.0}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('unnamed-chunk-39-altair-viz');
      vegaEmbed("#unnamed-chunk-39-altair-viz", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>


</div>
</div>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Ce projet a été très enrichissant et m’a permis d’acquérir les bases du langage R pour l’analyse exploratoire des données. J’ai appris à manipuler des jeux de données, calculer des statistiques et créer différents types de graphiques.</p>
<p>Je me sens maintenant plus à l’aise pour lire, comprendre et interpréter des graphiques, ainsi que pour les produire. La visualisation m’a aidé à repérer tendances, corrélations et différences entre groupes.</p>
<p>J’ai aussi apprécié l’intégration de Python dans R, qui m’a permis d’explorer les données de façon interactive et de découvrir la complémentarité entre ces deux langages.</p>
<p>Dans l’ensemble, ce projet a renforcé mes compétences pratiques en analyse de données et constitue une bonne base pour aller plus loin.</p>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Notes de bas de page</h2>

<ol>
<li id="fn1"><p>Pour de plus amples informations, voir “<strong><em>R</em></strong> pour les débutants”, E. Paradis, 2005, pages 12–16.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Pour de plus amples informations, voir “<strong><em>R</em></strong> pour les débutants”, E. Paradis, 2005, pages 12.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Par intérêt, un coup d’oeil à l’adresse du <a href="https://www.census.gov/" title="United States Census Bureau">Gouvernement Américain</a>.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Une librairie correspondante, <a href="https://realpython.com/ggplot-python/" title="plotnine">plotnine</a>, a été mise à disposition des utilisateurs de <em>Python</em>.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>De plus amples informations se trouvent dans <a href="https://ggplot2.tidyverse.org/" title="tidyverse">Tidyverse</a>.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copié");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copié");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>